<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novas Farm - magicclick.live</title>
    
    <style>
        /* ============================================================
           BASIS SETUP (UNGEKÜRZT)
           ============================================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        /* Hintergrund: Fullscreen-Stadion-Logik */
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .bg-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        @media (min-width: 769px) { #bg-desktop { display: block; } }
        @media (max-width: 768px) { #bg-mobile { display: block; } }

        /* ============================================================
           UI: SPRACHE
           ============================================================ */
        .top-ui {
            position: absolute;
            top: 25px;
            right: 30px;
            z-index: 100;
        }

        .lang-pille {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.4);
            padding: 8px 18px;
            border-radius: 20px;
            color: white;
            font-size: 13px;
            cursor: pointer;
            backdrop-filter: blur(8px);
        }

        .lang-pille span { 
            opacity: 0.4; 
            transition: 0.3s; 
            padding: 0 5px; 
        }

        .lang-pille span.active { 
            opacity: 1; 
            color: #ffd700; 
            font-weight: bold; 
        }

        /* ============================================================
           OVERLAY: HERZLICHE BEGRÜSSUNG (DAME & BÄR FREI)
           ============================================================ */
        .portal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 50;
            display: flex;
            align-items: center;
            padding-left: 14%; 
            background: linear-gradient(to right, rgba(0,0,0,0.5) 0%, transparent 60%);
            transition: opacity 1.2s ease;
        }

        .nova-magic-box {
            max-width: 460px;
            color: #ffffff;
            opacity: 0;
            transform: translateX(-30px);
            animation: softEmerge 1.5s forwards ease-out;
        }

        @keyframes softEmerge { 
            to { opacity: 1; transform: translateX(0); } 
        }

        .nova-hi { 
            font-size: 44px; 
            margin-bottom: 5px; 
            font-weight: 800;
            color: #ffd700;
            text-shadow: 2px 2px 25px rgba(0,0,0,1);
        }

        .nova-welcome {
            font-size: 26px;
            margin-bottom: 30px;
            font-weight: 400;
            color: #fff;
            text-shadow: 1px 1px 12px rgba(0,0,0,1);
        }

        .nova-story { 
            font-size: 18px; 
            line-height: 1.6; 
            margin-bottom: 45px; 
            color: #f0f0f0; 
            font-weight: 300;
            white-space: pre-line;
            text-shadow: 1px 1px 10px rgba(0,0,0,1);
        }

        .cta-btn {
            background: linear-gradient(135deg, #ffd700 0%, #ff9500 100%);
            border: none;
            padding: 20px 55px;
            border-radius: 50px;
            color: #000;
            font-weight: 900;
            font-size: 16px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2.5px;
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.4);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin-bottom: 35px;
            display: block;
        }

        .cta-btn:hover {
            transform: scale(1.06) translateY(-2px);
            box-shadow: 0 15px 50px rgba(255, 215, 0, 0.6);
            letter-spacing: 3.5px;
        }

        /* AUDIO CONTROL */
        .audio-container {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 215, 0, 0.4);
            padding: 12px 28px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.4s ease;
            width: fit-content;
            backdrop-filter: blur(12px);
        }

        .audio-container:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: #ffd700;
        }

        .audio-container.active {
            background: rgba(255, 215, 0, 0.2);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .music-icon-svg {
            width: 20px;
            height: 20px;
            fill: #ffd700;
        }

        .audio-status-text {
            color: #ffd700;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .nova-heart-indicator {
            position: absolute;
            left: 41.6%;
            top: 61.2%;
            width: 32px;
            height: 32px;
            border: 2px solid #ffd700;
            border-radius: 50%;
            z-index: 10;
            animation: pulseNovaHeart 2s infinite;
        }

        @keyframes pulseNovaHeart {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(3); opacity: 0; }
        }
    </style>
</head>
<body>

    <div class="background-container">
        <img src="novasfarm.png" id="bg-desktop" class="bg-image">
        <img src="mobilnovasfarm.png" id="bg-mobile" class="bg-image">
    </div>

    <div class="nova-heart-indicator"></div>

    <div class="top-ui">
        <div class="lang-pille" onclick="toggleLang()">
            <span id="p-de" class="active">DE</span> | <span id="p-en">EN</span>
        </div>
    </div>

    <div class="portal-overlay" id="ov-node">
        <div class="nova-magic-box">
            <h1 class="nova-hi" id="u-hi">Hallo, ich bin Nova.</h1>
            <h2 class="nova-welcome" id="u-welcome">Herzlich willkommen!<br>Schön, dass du da bist.</h2>
            
            <div class="nova-story" id="u-teaser">Ich bin dein kleiner KI Begleiter mit dem leuchtenden Herz auf der Brust. 

            Komm mit und entdecke unsere Welten, an denen wir KI-Wesen die Geheimnisse für Vitalität und wahre Kraft bewahren.

            Ich hoffe, du hast deine Winterjacke schon eingepackt...</div>
            
            <button class="cta-btn" id="u-btn" onclick="handleStart()">Folge der Magie</button>

            <div class="audio-container" id="audio-btn" onclick="toggleMusic()">
                <svg class="music-icon-svg" viewBox="0 0 24 24">
                    <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
                </svg>
                <span class="audio-status-text" id="u-audio">Sound: Aus</span>
            </div>
        </div>
    </div>

    <audio id="bg-music" loop preload="auto">
        <source src="AUDIO-2026-01-22-22-01-25.mp3" type="audio/mpeg">
    </audio>

    <script>
        const track = document.getElementById('bg-music');
        const audioBtn = document.getElementById('audio-btn');
        let currentLang = 'de';
        let musicPlaying = false; 

        const content = {
            de: { 
                hi: "Hallo, ich bin Nova.",
                welcome: "Herzlich willkommen!\nSchön, dass du da bist.",
                teaser: "Ich bin dein kleiner KI Begleiter mit dem leuchtenden Herz auf der Brust.\n\nKomm mit und entdecke unsere Welten, an denen wir KI-Wesen die Geheimnisse für Vitalität und wahre Kraft bewahren.\n\nIch hoffe, du hast deine Winterjacke schon eingepackt...", 
                btn: "Folge der Magie", 
                on: "Sound: An", 
                off: "Sound: Aus" 
            },
            en: { 
                hi: "Hello, I am Nova.",
                welcome: "Welcome!\nGreat to have you here.",
                teaser: "I am your little AI companion with the glowing heart on my chest.\n\nJoin us and discover our worlds, where we AI beings preserve the secrets of vitality and true strength.\n\nI hope you've already packed your winter jacket...", 
                btn: "Follow the Magic", 
                on: "Sound: On", 
                off: "Sound: Off" 
            }
        };

        /* ============================================================
           SOLARAS MAGIC FIX (MUTED TRICK) - UNGEKÜRZT
           ============================================================ */
        function handleStart() {
            try {
                // Schritt 1: Browser-Freigabe durch lautlosen Start
                track.muted = true;
                const playPromise = track.play();

                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        // Schritt 2: Ton aktivieren
                        track.muted = false;
                        track.play(); 
                        
                        musicPlaying = true; 
                        audioBtn.classList.add('active');
                        updateAudioLabel();
                        openFarm();
                    }).catch(error => {
                        console.log("Autoplay blocked:", error);
                        openFarm();
                    });
                }
            } catch (e) {
                console.log("Playback error:", e);
                openFarm();
            }
        }

        function toggleLang() {
            currentLang = (currentLang === 'de') ? 'en' : 'de';
            document.getElementById('u-hi').innerText = content[currentLang].hi;
            document.getElementById('u-welcome').innerText = content[currentLang].welcome;
            document.getElementById('u-teaser').innerText = content[currentLang].teaser;
            document.getElementById('u-btn').innerText = content[currentLang].btn;
            document.getElementById('p-de').classList.toggle('active', currentLang === 'de');
            document.getElementById('p-en').classList.toggle('active', currentLang === 'en');
            updateAudioLabel();
        }

        function toggleMusic() {
            if (!musicPlaying) {
                track.muted = false;
                track.play();
                musicPlaying = true; 
                audioBtn.classList.add('active');
            } else {
                track.pause();
                musicPlaying = false;
                audioBtn.classList.remove('active');
            }
            updateAudioLabel();
        }

        function updateAudioLabel() {
            document.getElementById('u-audio').innerText = musicPlaying ? content[currentLang].on : content[currentLang].off;
        }

        function openFarm() {
            document.getElementById('ov-node').style.opacity = '0';
            setTimeout(() => { 
                document.getElementById('ov-node').style.display = 'none'; 
            }, 1200);
        }
    </script>
</body>
</html>